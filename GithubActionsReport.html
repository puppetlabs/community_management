<html>
   <title>Github Action Report</title>
   <head>
      <link rel="stylesheet" href="https://code.jquery.com/mobile/1.4.5/jquery.mobile-1.4.5.min.css">
      <script src='https://code.jquery.com/jquery-3.5.1.js'></script>
      <script src='./web_libraries/sorttable.js'></script>
      <link rel='stylesheet' href='./web_libraries/bootstrap.min.css'>
      <script src='./web_libraries/DataTables/datatables.js'></script>
      <link rel='stylesheet' href='./web_libraries/DataTables/datatables.css'>
      <link rel="stylesheet" href="styles.css">
      <script type="text/javascript">
         function toggle( id ) {
            var e = document.getElementById( id )
            if(e.style.display == 'none')
         e.style.display = 'table-row-group';
         else
         e.style.display = 'none';
         
         }
      </script>
      <!-- Google Analytics -->
      <script>
         (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
         (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
         m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
         })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
         
         ga('create', 'UA-157301458-1', 'auto');
         ga('send', 'pageview', { 'page': location.pathname + location.search + location.hash});
         ga('set', 'anonymizeIp', true);
      </script>
      <!-- End Google Analytics -->
   </head>
   <body>
      <h1 style="text-align:center;">Github Actions Report</h1>
      <div style="overflow-x:auto;">
         <table>
            <thead>
               <tr>
                  <th>Module Name:</th>
               </tr>
            </thead>
            <tbody>
               <% result_hash.each do |m| %> 
            <tbody class="labels">
               <tr>
                  <td colspan="10">
                     <label for="<%= m[:name] %>"><a href='<%=m[:url] %>'><%= m[:name] %></a></label>
                     <input type="checkbox" name="<%= m[:name] %>"  onclick="toggle('<%=m[:name] %>')  ">
                  </td>
               </tr>
            </tbody>
            <tbody id="<%= m[:name] %>" style="display: none;">
               <% m[:runs][0..4].each do |run| %>
               <tr>
                  <th><a href='<%= run[:html_url] %>' target='_blank'> <%= run[:run_number] %> </a> </th>
                  <% run[:os_agent].each do |acceptance| %>
                  <td bgcolor="<%= acceptance[:result] == 'success' ? '' : 'red' %>">
                     <%= acceptance[:os] %>/<%= acceptance[:agent] %>
                  </td>
                  <% end %>
               </tr>
               <% end %>
            </tbody>
            <% end %>
         </table>
   </body>
   </div>
</html>